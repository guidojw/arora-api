# Configuration for DI
services:
  # Controllers
  CatalogController:
    class: src/controllers/v1
    arguments: ['@CatalogService']
    main: CatalogController
  GroupController:
    class: src/controllers/v1
    main: GroupController
    arguments: ['@BanService', '@ExileService', '@GroupService', '@SuspensionService', '@TrainingService']
  StatusController:
    class: src/controllers/v1
    main: StatusController
    arguments: ['@StatusService']
  UserController:
    class: src/controllers/v1
    main: UserController
    arguments: ['@UserService']

  # Jobs
  AcceptJoinRequestsJob:
    class: src/jobs
    main: AcceptJoinRequestsJob
    arguments: ['@DiscordMessageJob', '@GroupService', '@RobloxManager']
  AnnounceTrainingsJob:
    class: src/jobs
    main: AnnounceTrainingsJob
    arguments: ['@GroupService', '@UserService']
  CheckSuspensionsJob:
    class: src/jobs
    main: CheckSuspensionsJob
    arguments: ['@FinishSuspensionJob']
  DiscordMessageJob:
    class: src/jobs
    main: DiscordMessageJob
  FinishSuspensionJob:
    class: src/jobs
    main: FinishSuspensionJob
    arguments: ['@DiscordMessageJob', '@GroupService', '@UserService']
  PayoutTrainDevelopersJob:
    class: src/jobs
    main: PayoutTrainDevelopersJob
    arguments: ['@RobloxManager', '@WebSocketManager']

  # Managers
  RobloxManager:
    class: src/managers
    main: RobloxManager
  WebSocketManager:
    class: src/managers
    main: WebSocketManager

  # Middlewares
  AuthMiddleware:
    class: src/middlewares
    main: AuthMiddleware
    arguments: ['@AuthService']
  ErrorMiddleware:
    class: src/middlewares
    main: ErrorMiddleware

  # Routes
  CatalogRouter:
    class: src/routes
    main: CatalogRouter
    arguments: ['@AuthMiddleware', '@CatalogController', '@ErrorMiddleware']
  GroupsRouter:
    class: src/routes
    main: GroupsRouter
    arguments: ['@AuthMiddleware', '@ErrorMiddleware', '@GroupController']
  StatusRouter:
    class: src/routes
    main: StatusRouter
    arguments: ['@AuthMiddleware', '@ErrorMiddleware', '@StatusController']
  UsersRouter:
    class: src/routes
    main: UsersRouter
    arguments: ['@AuthMiddleware', '@ErrorMiddleware', '@UserController']

  # Services
  AuthService:
    class: src/services
    main: AuthService
  BanService:
    class: src/services
    main: BanService
    arguments: ['@DiscordMessageJob', '@UserService']
  CatalogService:
    class: src/services
    main: CatalogService
  ExileService:
    class: src/services
    main: ExileService
    arguments: ['@DiscordMessageJob', '@GroupService', '@UserService']
  GroupService:
    class: src/services
    main: GroupService
    arguments: ['@DiscordMessageJob', '@RobloxManager', '@UserService', '@WebSocketManager']
  StatusService:
    class: src/services
    main: StatusService
    arguments: ['@RobloxManager']
  SuspensionService:
    class: src/services
    main: SuspensionService
    arguments: ['@DiscordMessageJob', '@FinishSuspensionJob', '@GroupService', '@UserService']
  TrainingService:
    class: src/services
    main: TrainingService
    arguments: ['@AnnounceTrainingsJob', '@DiscordMessageJob', '@UserService']
  UserService:
    class: src/services
    main: UserService
    arguments: ['@RobloxManager']
